{"version":3,"sources":["components/Logo.js","service/Recognition.js","service/Speak.js","components/Level.js","components/GameFinished.js","components/Game.js","index.js","components/PermissionDenied.js","components/Unsupported.js","components/Splash.js","components/Footer.js","App.js"],"names":["Logo","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleReload","bind","assertThisInitialized","event","preventDefault","window","location","reload","react_default","a","createElement","href","onClick","className","Component","Recognition","lang","arguments","length","undefined","isSupported","recognition","webkitSpeechRecognition","Promise","resolve","reject","askRecognition","onerror","onstart","start","callback","concat","result","stop","abort","Speak","synth","speechSynthesis","synthesisUtterance","SpeechSynthesisUtterance","text","onend","speak","Level","state","speaking","heardSentence","score","calculateScore","handleListen","handleSay","handleNextLevel","handleRestart","realSentence","stringSimilarity","compareTwoStrings","Math","round","say","sentence","_this2","setState","on","word","results","transcript","toLocaleLowerCase","context","updateScore","_this3","getNextLevel","level","_this$props","enSentence","_this$state","style","marginTop","getTotalScore","cx","disabled","contextTypes","PropTypes","func","isRequired","GameFinished","handleFacebookShare","handleTwitterShare","FB","ui","method","quote","url","left","innerWidth","document","documentElement","clientWidth","body","top","innerHeight","clientHeight","popupOptions","open","Game","gameFinished","sentences","language","getLevelSentence","getLevelEnSentence","components_GameFinished","components_Level","childContextTypes","PermissionDenied","Unsupported","Splash","gameStarted","permission","unsupported","handleGameStart","handleLanguageChange","target","value","askPermission","then","catch","components_Unsupported","components_Game","onChange","components_PermissionDenied","Footer","rel","App","src_components_Logo","components_Splash","src_components_Footer","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.fc40968d.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport './Logo.css';\n\nclass Logo extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleReload = this.handleReload.bind(this);\n  }\n\n  handleReload(event) {\n    event.preventDefault();\n    window.location.reload();\n  }\n\n  render() {\n    return <a href=\"\" onClick={this.handleReload} className=\"logo hidden-mobile\">say it!</a>;\n  }\n}\n\nexport default Logo;\n","/* eslint-disable class-methods-use-this */\n/* eslint-disable new-cap */\n\nclass Recognition {\n  constructor(lang = 'tr-TR') {\n    if (!this.isSupported()) {\n      return;\n    }\n\n    this.recognition = new window.webkitSpeechRecognition();\n    this.recognition.lang = lang;\n  }\n\n  isSupported() {\n    return typeof window.webkitSpeechRecognition === 'function';\n  }\n\n  askPermission() {\n    return new Promise((resolve, reject) => {\n      const askRecognition = new window.webkitSpeechRecognition();\n      askRecognition.onerror = reject;\n      askRecognition.onstart = resolve;\n\n      askRecognition.start();\n    });\n  }\n\n  on(event, callback) {\n    this.recognition[`on${event}`] = result => callback(result);\n  }\n\n  start() {\n    this.recognition.start();\n  }\n\n  stop() {\n    this.recognition.stop();\n  }\n\n  abort() {\n    this.recognition.abort();\n  }\n}\n\nexport default Recognition;\n","/* eslint-disable class-methods-use-this */\n\nclass Speak {\n  constructor(lang = 'tr') {\n    if (!this.isSupported()) {\n      return;\n    }\n\n    this.synth = window.speechSynthesis;\n\n    this.synthesisUtterance = new window.SpeechSynthesisUtterance();\n    this.synthesisUtterance.lang = lang;\n  }\n\n  isSupported() {\n    return typeof window.SpeechSynthesisUtterance === 'function';\n  }\n\n  say(text, callback = () => {}) {\n    this.synthesisUtterance.text = text;\n    this.synthesisUtterance.onend = callback;\n    this.synth.speak(this.synthesisUtterance);\n  }\n}\n\nexport default Speak;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport stringSimilarity from 'string-similarity';\n\nclass Level extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      speaking: false,\n      heardSentence: '',\n      score: 0,\n    };\n\n    this.calculateScore = this.calculateScore.bind(this);\n    this.handleListen = this.handleListen.bind(this);\n    this.handleSay = this.handleSay.bind(this);\n    this.handleNextLevel = this.handleNextLevel.bind(this);\n    this.handleRestart = this.handleRestart.bind(this);\n  }\n\n  compontentWillMount() {\n    this.props.recognition.abort();\n  }\n\n  calculateScore(realSentence, heardSentence) {\n    const score = stringSimilarity.compareTwoStrings(realSentence, heardSentence);\n\n    return Math.round(score * 100);\n  }\n\n  handleListen() {\n    this.props.speak.say(this.props.sentence);\n  }\n\n  handleSay() {\n    this.setState({ speaking: true });\n\n    this.props.recognition.on('result', result => {\n      const word = result.results[0][0].transcript.toLocaleLowerCase();\n      const score = this.calculateScore(this.props.sentence, word);\n\n      this.setState({\n        heardSentence: word,\n        score,\n      });\n      this.context.updateScore(score);\n    });\n\n    this.props.recognition.on('speechstart', () => {\n      this.setState({ speaking: true });\n    });\n\n    this.props.recognition.on('speechend', () => {\n      this.setState({ speaking: false });\n    });\n\n    this.props.recognition.on('error', () => {\n      this.props.recognition.abort();\n      this.setState({\n        speaking: false,\n        heardSentence: 'unknown',\n        score: 0,\n      });\n    });\n\n    this.props.recognition.on('nomatch', () => {\n      this.props.recognition.abort();\n      this.setState({\n        speaking: false,\n        heardSentence: 'unknown',\n        score: 0,\n      });\n    });\n\n    this.props.recognition.start();\n  }\n\n  handleRestart() {\n    this.context.updateScore(-1 * this.state.score);\n    this.props.recognition.abort();\n    this.setState({\n      speaking: false,\n      heardSentence: '',\n      score: 0,\n    });\n  }\n\n  handleNextLevel() {\n    this.setState(\n      {\n        speaking: false,\n        heardSentence: '',\n        score: 0,\n      },\n      () => {\n        this.context.getNextLevel(this.props.level);\n      },\n    );\n  }\n\n  render() {\n    const { level, sentence, enSentence } = this.props;\n    const { speaking, score, heardSentence } = this.state;\n\n    if (heardSentence) {\n      return (\n        <div>\n          <h3 className=\"gap-bottom-large\">Level {level}</h3>\n          <h1>{sentence}</h1>\n          <h3 className=\"gap-bottom-large\">You said: {heardSentence}</h3>\n\n          <h3>Level Score / Total Score</h3>\n          <h1 style={{ marginTop: '5px' }}>{score} / {this.context.getTotalScore()}</h1>\n\n          <button className=\"button\" onClick={this.handleRestart}>\n            Restart Level\n          </button>\n          {' '}\n          <button className=\"button\" onClick={this.handleNextLevel}>\n            Next Level\n          </button>\n        </div>\n      );\n    }\n\n    return (\n      <div>\n        <h3 className=\"gap-bottom-large\">Level {level}</h3>\n        <h1>{sentence}</h1>\n        <h3>{enSentence}</h3>\n\n        <div className=\"buttonGroup\">\n          <button className={cx('button', { disabled: speaking })} onClick={this.handleListen}>\n            Listen\n          </button>\n          {' '}\n          <button className={cx('button', { disabled: speaking })} onClick={this.handleSay}>\n            Say it!\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nLevel.propTypes = {\n  speak: PropTypes.object.isRequired,\n  recognition: PropTypes.object.isRequired,\n  level: PropTypes.number.isRequired,\n  sentence: PropTypes.string.isRequired,\n  enSentence: PropTypes.string.isRequired,\n};\n\nLevel.contextTypes = {\n  updateScore: PropTypes.func.isRequired,\n  getTotalScore: PropTypes.func.isRequired,\n  getNextLevel: PropTypes.func.isRequired,\n};\n\nexport default Level;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass GameFinished extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.handleRestart = this.handleRestart.bind(this);\n    this.handleFacebookShare = this.handleFacebookShare.bind(this);\n    this.handleTwitterShare = this.handleTwitterShare.bind(this);\n  }\n\n  handleRestart() {\n    window.location.reload();\n  }\n\n  handleFacebookShare() {\n    const { score } = this.props;\n\n    window.FB.ui({\n      method: 'share',\n      href: 'https://alpcanaydin.github.io/say-it',\n      quote: `My score: ${score}. Try yourself with a language that you don't know!`,\n    });\n  }\n\n  handleTwitterShare() {\n    const { score } = this.props;\n\n    const url = `https://twitter.com/share?url=${window.location\n      .href}&hashtags=sayit&text=I just got ${score} points in Say it.`;\n\n    const width = 550;\n    const height = 400;\n\n    const windowWidth =\n      window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n\n    const windowHeight =\n      window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight;\n\n    const left = (windowWidth - width) / 2;\n    const top = (windowHeight - height) / 2;\n\n    const popupOptions = `status=1,width=${width},height=${height},top=${top},left=${left}`;\n    window.open(url, 'twitter', popupOptions);\n  }\n\n  render() {\n    const { score } = this.props;\n\n    return (\n      <div>\n        <h1 className=\"gap-bottom-large\">Game Finished!</h1>\n        <p>Your score</p>\n        <h1 className=\"gap-bottom-large\">{score}</h1>\n        <div className=\"gap-bottom-large\">\n          <button className=\"button\" onClick={this.handleRestart}>\n            Play Again\n          </button>\n        </div>\n        <br />\n        <p className=\"gap-bottom\">Share Your Score</p>\n        <div className=\"buttonGroup gap-bottom-large\">\n          <button className=\"button facebook\" onClick={this.handleFacebookShare}>\n            Facebook\n          </button>\n          {' '}\n          <button className=\"button twitter\" onClick={this.handleTwitterShare}>\n            Twitter\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nGameFinished.propTypes = {\n  score: PropTypes.number.isRequired,\n};\n\nexport default GameFinished;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport sentences from '../data/sentences.json';\n\nimport Level from './Level';\nimport GameFinished from './GameFinished';\n\nclass Game extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      level: 1,\n      score: 0,\n      gameFinished: false,\n    };\n\n    this.updateScore = this.updateScore.bind(this);\n    this.getTotalScore = this.getTotalScore.bind(this);\n    this.getNextLevel = this.getNextLevel.bind(this);\n  }\n\n  getChildContext() {\n    return {\n      updateScore: this.updateScore,\n      getTotalScore: this.getTotalScore,\n      getNextLevel: this.getNextLevel,\n    };\n  }\n\n  getLevelSentence() {\n    return sentences[this.props.language][`level${this.state.level}`];\n  }\n\n  getLevelEnSentence() {\n    return sentences['en-US'][`level${this.state.level}`];\n  }\n\n  getNextLevel(level) {\n    if (level === 6) {\n      this.setState({ gameFinished: true });\n      return;\n    }\n\n    this.setState({ level: level + 1 });\n  }\n\n  getTotalScore() {\n    return this.state.score;\n  }\n\n  updateScore(score) {\n    this.setState({ score: this.state.score + score });\n  }\n\n  render() {\n    const { speak, recognition } = this.props;\n    const { level, gameFinished, score } = this.state;\n    const sentence = this.getLevelSentence();\n    const enSentence = this.getLevelEnSentence();\n\n    if (gameFinished) {\n      return <GameFinished score={score} />;\n    }\n\n    return (\n      <Level\n        speak={speak}\n        recognition={recognition}\n        level={level}\n        sentence={sentence}\n        enSentence={enSentence}\n      />\n    );\n  }\n}\n\nGame.childContextTypes = {\n  updateScore: PropTypes.func,\n  getTotalScore: PropTypes.func,\n  getNextLevel: PropTypes.func,\n};\n\nGame.propTypes = {\n  language: PropTypes.string.isRequired,\n  speak: PropTypes.object.isRequired,\n  recognition: PropTypes.object.isRequired,\n};\n\nexport default Game;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nimport './index.css';\n\nconst render = Component => {\n  ReactDOM.render(<Component />, document.getElementById('root'));\n};\n\nif (process.env.NODE_ENV === 'development' && module.hot) {\n  module.hot.accept('./App', () => {\n    // eslint-disable-next-line\n    const NextApp = require('./App').default;\n    render(NextApp);\n  });\n}\n\nrender(App);\n","import React from 'react';\n\nconst PermissionDenied = () =>\n  <div>\n    <h1 className=\"gap-bottom-large\">Permission Denied</h1>\n    <p>You need to give access your microphone :(</p>\n  </div>;\n\nexport default PermissionDenied;\n","import React from 'react';\n\nconst Unsupported = () =>\n  <div>\n    <h1 className=\"gap-bottom-large\">Unsupported Browser</h1>\n    <p>Your browser does not support this game :(</p>\n  </div>;\n\nexport default Unsupported;\n","import React, { Component } from 'react';\n\nimport Recognition from '../service/Recognition';\nimport Speak from '../service/Speak';\n\nimport Game from './Game';\nimport PermissionDenied from './PermissionDenied';\nimport Unsupported from './Unsupported';\n\nclass Splash extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      language: 'ar-EG',\n      gameStarted: false,\n      permission: true,\n      unsupported: false,\n    };\n    this.handleGameStart = this.handleGameStart.bind(this);\n    this.handleLanguageChange = this.handleLanguageChange.bind(this);\n  }\n\n  handleLanguageChange(event) {\n    this.setState({ language: event.target.value });\n  }\n\n  handleGameStart() {\n    const { language } = this.state;\n\n    this.recognition = new Recognition(language);\n    this.speak = new Speak(language);\n\n    if (!this.speak.isSupported() || !this.recognition.isSupported()) {\n      this.setState({ unsupported: true });\n      return;\n    }\n\n    this.recognition\n      .askPermission()\n      .then(() => {\n        this.recognition.abort();\n        this.setState({ gameStarted: true });\n      })\n      .catch(() => this.setState({ permission: false }));\n  }\n\n  render() {\n    const { gameStarted, unsupported, permission, language } = this.state;\n\n    if (unsupported) {\n      return <Unsupported />;\n    }\n\n    if (!permission) {\n      return <PermissionDenied />;\n    }\n\n    if (gameStarted) {\n      return <Game language={language} speak={this.speak} recognition={this.recognition} />;\n    }\n\n    return (\n      <div>\n        <h1 className=\"gap-bottom\">Say it!</h1>\n        <p className=\"gap-bottom\">\n          Say it is a game that checks if you can speak\n          <br />\n          in a language that you do not know.\n        </p>\n        <p className=\"gap-bottom-large\">Listen the sentence and try to say it!</p>\n\n        <div className=\"gap-bottom-large\">\n          <select className=\"select\" onChange={this.handleLanguageChange}>\n            <option value=\"ar-EG\">Arabic</option>\n            <option value=\"nl-NL\">Dutch</option>\n            <option value=\"en-US\">English</option>\n            <option value=\"fr-FR\">French</option>\n            <option value=\"hi-IN\">Hindi</option>\n            <option value=\"de-DE\">German</option>\n            <option value=\"el-GR\">Greek</option>\n            <option value=\"nb-NO\">Norwegian</option>\n            <option value=\"pl-PL\">Polish</option>\n            <option value=\"ru-RU\">Russian</option>\n            <option value=\"ca-ES\">Spanish</option>\n            <option value=\"tr-TR\">Turkish</option>\n          </select>\n        </div>\n\n        <button className=\"button\" onClick={this.handleGameStart}>\n          Start Playing\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default Splash;\n","import React from 'react';\nimport './Footer.css';\n\nconst Footer = () =>\n  <div className=\"footer hidden-mobile\">\n    <a href=\"https://github.com/alpcanaydin/say-it\" target=\"_blank\" rel=\"noopener noreferrer\">\n      view source\n    </a>\n    <a href=\"https://twitter.com/alpcanaydin\" target=\"_blank\" rel=\"noopener noreferrer\">\n      @alpcanaydin\n    </a>\n  </div>;\n\nexport default Footer;\n","import React from 'react';\n\nimport Logo from './components/Logo';\nimport Splash from './components/Splash';\nimport Footer from './components/Footer';\n\nconst App = () =>\n  <div className=\"container\">\n    <div className=\"aligner\">\n      <div className=\"aligner-item aligner-item-top\">\n        <Logo />\n      </div>\n      <div className=\"aligner-item text-center\">\n        <Splash />\n      </div>\n      <div className=\"aligner-item aligner-item-bottom\">\n        <Footer />\n      </div>\n    </div>\n  </div>;\n\nexport default App;\n"],"sourceRoot":""}